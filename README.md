# CrewAI Agent - Поиск новостей и написание блог-поста

Веб-приложение на Streamlit для поиска последних новостей по любой теме и создания блог-поста на русском языке с использованием CrewAI.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` и добавьте ваши API ключи:
```bash
OPENAI_API_KEY=ваш_ключ_openai
SERPER_API_KEY=ваш_ключ_serper
```

**⚠️ ВАЖНО для безопасности:**
- Файл `.env` автоматически игнорируется Git (в `.gitignore`)
- **НИКОГДА** не коммитьте файл `.env` с реальными ключами в репозиторий
- Для Streamlit Cloud используйте встроенный Secrets Manager вместо `.env` файла

## Использование

### Веб-приложение (Streamlit) - Рекомендуется

Запустите Streamlit приложение:
```bash
streamlit run app.py
```

Приложение откроется в браузере. Вы сможете:
- Ввести любую тему для исследования (например: "AI Agents", "машинное обучение", "блокчейн")
- Нажать кнопку "Запустить исследование"
- Увидеть результат в Markdown формате на странице
- Скачать результат в виде файла

### CLI запуск (main.py)

Для запуска через командную строку:
```bash
python main.py
```

Это выполнит поиск новостей про AI Agents (тема жестко задана) и сохранит результат в `blog_post.txt`.

## Что делает приложение

1. **Исследователь** ищет последние новости (1-2 недели) по заданной теме через Serper API
2. **Писатель** создает информативный блог-пост на русском языке на основе найденных новостей
3. Результат отображается в Markdown формате и сохраняется в файл `blog_post.txt`

## Структура проекта

- `app.py` - Streamlit веб-приложение с интерактивным интерфейсом
- `main.py` - CLI версия агента CrewAI (тема "AI Agents" жестко задана)
- `requirements.txt` - зависимости проекта
- `.env` - файл с переменными окружения (создайте его самостоятельно, **НЕ коммитьте в Git!**)
- `env.example` - пример файла с переменными окружения (без реальных ключей)
- `blog_post.txt` - результат работы агента (создается автоматически)

## Публикация в Streamlit Cloud

### Безопасная настройка API ключей

1. **НЕ загружайте файл `.env`** в репозиторий
2. В Streamlit Cloud:
   - Откройте настройки приложения → **Secrets**
   - Добавьте ключи в формате TOML:
   ```toml
   OPENAI_API_KEY = "ваш_реальный_ключ_openai"
   SERPER_API_KEY = "ваш_реальный_ключ_serper"
   ```
3. Приложение автоматически использует `st.secrets` из Streamlit Cloud

### Проверка безопасности перед публикацией

```bash
# Убедитесь, что .env файл игнорируется Git
git check-ignore .env

# Проверьте, что нет файлов с секретами в репозитории
git ls-files | grep -E '\.env|secrets\.toml'
```

Если команды показывают, что файлы игнорируются — всё в порядке! ✅
